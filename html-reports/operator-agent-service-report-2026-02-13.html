<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>operator-agent-service - Interactive Performance Report</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f6f7;
            padding: 20px;
            color: #172B4D;
        }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .header { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px 8px 0 0;
        }
        .header h1 { font-size: 28px; margin-bottom: 10px; }
        .header p { opacity: 0.9; font-size: 14px; }
        .content { padding: 30px; }
        .section { margin-bottom: 40px; }
        .section h2 { 
            font-size: 20px; 
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E8E8E8;
            color: #172B4D;
        }
        .chart-container { 
            position: relative; 
            height: 400px;
            margin-bottom: 30px;
            background: #fafbfc;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid #e8e8e8;
        }
        .endpoint-section {
            margin-bottom: 30px;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
            overflow: hidden;
        }
        .endpoint-header {
            background: #f4f5f7;
            padding: 15px 20px;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        .endpoint-header:hover { background: #ebecf0; }
        .endpoint-header h3 { font-size: 16px; color: #172B4D; }
        .endpoint-stats {
            display: flex;
            gap: 20px;
            font-size: 13px;
            color: #5E6C84;
        }
        .endpoint-stats span { font-weight: 600; color: #172B4D; }
        .endpoint-content {
            padding: 20px;
            display: none;
        }
        .endpoint-content.active { display: block; }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: #f4f5f7;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #0052CC;
        }
        .stat-card label { 
            display: block;
            font-size: 12px;
            color: #5E6C84;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .stat-card value { 
            display: block;
            font-size: 20px;
            font-weight: 600;
            color: #172B4D;
        }
        .chart-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .chart-box {
            position: relative;
            height: 300px;
            background: #fafbfc;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e8e8e8;
        }
        .chart-title {
            font-size: 14px;
            font-weight: 600;
            color: #172B4D;
            margin-bottom: 10px;
        }
        .toggle-icon {
            font-size: 20px;
            transition: transform 0.3s;
        }
        .toggle-icon.active { transform: rotate(180deg); }
        @media (max-width: 768px) {
            .chart-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ operator-agent-service - Performance Report</h1>
            <p>üìÖ Feb 13, 3:00 pm ‚Äì Feb 13, 3:35 pm</p>
            <p>üåê Environment: Staging</p>
        </div>
        
        <div class="content">
            <!-- Combined Timeline Chart Section -->
            <div class="section">
                <h2>üìà Performance Timeline</h2>
                <p style="color: #5E6C84; margin-bottom: 20px; font-size: 14px;">
                    Request rate and response time trends over time.
                </p>
                <div class="chart-container">
                    <canvas id="combinedChart"></canvas>
                </div>
            </div>
            
            <!-- Individual Endpoints -->
            <div class="section">
                <h2>üìà Individual Endpoint Analysis</h2>
                <p style="color: #5E6C84; margin-bottom: 20px; font-size: 14px;">
                    Click on any endpoint to expand and view interactive Rate and P95 time series charts
                </p>

                <div class="endpoint-section">
                    <div class="endpoint-header" onclick="toggleEndpoint(0)">
                        <div>
                            <h3>1. get /v1/threads</h3>
                        </div>
                        <div style="display: flex; align-items: center; gap: 30px;">
                            <div class="endpoint-stats">
                                <div>Rate: <span>0.19 req/s</span></div>
                                <div>P95: <span>195.4 ms</span></div>
                                <div>Requests: <span>409</span></div>
                            </div>
                            <span class="toggle-icon" id="toggle-0">‚ñº</span>
                        </div>
                    </div>
                    <div class="endpoint-content" id="content-0">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <label>Request Rate</label>
                                <value>0.19 hits/s</value>
                            </div>
                            <div class="stat-card">
                                <label>Total Requests</label>
                                <value>409</value>
                            </div>
                            <div class="stat-card">
                                <label>P95 Latency</label>
                                <value>195.4 ms</value>
                            </div>
                            <div class="stat-card">
                                <label>P99 Latency</label>
                                <value>243.9 ms</value>
                            </div>
                        </div>
                        
                        <div class="chart-row">
                            <div class="chart-box">
                                <div class="chart-title">üìä Request Rate Over Time</div>
                                <canvas id="rateChart-0"></canvas>
                            </div>
                            <div class="chart-box">
                                <div class="chart-title">üìà P95 Latency Over Time</div>
                                <canvas id="p95Chart-0"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
    
                <div class="endpoint-section">
                    <div class="endpoint-header" onclick="toggleEndpoint(1)">
                        <div>
                            <h3>2. get /v1/threads/ threadid</h3>
                        </div>
                        <div style="display: flex; align-items: center; gap: 30px;">
                            <div class="endpoint-stats">
                                <div>Rate: <span>0.00 req/s</span></div>
                                <div>P95: <span>792.4 ms</span></div>
                                <div>Requests: <span>1</span></div>
                            </div>
                            <span class="toggle-icon" id="toggle-1">‚ñº</span>
                        </div>
                    </div>
                    <div class="endpoint-content" id="content-1">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <label>Request Rate</label>
                                <value>0.00 hits/s</value>
                            </div>
                            <div class="stat-card">
                                <label>Total Requests</label>
                                <value>1</value>
                            </div>
                            <div class="stat-card">
                                <label>P95 Latency</label>
                                <value>792.4 ms</value>
                            </div>
                            <div class="stat-card">
                                <label>P99 Latency</label>
                                <value>792.4 ms</value>
                            </div>
                        </div>
                        
                        <div class="chart-row">
                            <div class="chart-box">
                                <div class="chart-title">üìä Request Rate Over Time</div>
                                <canvas id="rateChart-1"></canvas>
                            </div>
                            <div class="chart-box">
                                <div class="chart-title">üìà P95 Latency Over Time</div>
                                <canvas id="p95Chart-1"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
    
                <div class="endpoint-section">
                    <div class="endpoint-header" onclick="toggleEndpoint(2)">
                        <div>
                            <h3>3. post /v1/threads/ threadid :chat</h3>
                        </div>
                        <div style="display: flex; align-items: center; gap: 30px;">
                            <div class="endpoint-stats">
                                <div>Rate: <span>0.04 req/s</span></div>
                                <div>P95: <span>98251.2 ms</span></div>
                                <div>Requests: <span>77</span></div>
                            </div>
                            <span class="toggle-icon" id="toggle-2">‚ñº</span>
                        </div>
                    </div>
                    <div class="endpoint-content" id="content-2">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <label>Request Rate</label>
                                <value>0.04 hits/s</value>
                            </div>
                            <div class="stat-card">
                                <label>Total Requests</label>
                                <value>77</value>
                            </div>
                            <div class="stat-card">
                                <label>P95 Latency</label>
                                <value>98251.2 ms</value>
                            </div>
                            <div class="stat-card">
                                <label>P99 Latency</label>
                                <value>108584.8 ms</value>
                            </div>
                        </div>
                        
                        <div class="chart-row">
                            <div class="chart-box">
                                <div class="chart-title">üìä Request Rate Over Time</div>
                                <canvas id="rateChart-2"></canvas>
                            </div>
                            <div class="chart-box">
                                <div class="chart-title">üìà P95 Latency Over Time</div>
                                <canvas id="p95Chart-2"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
    
                <div class="endpoint-section">
                    <div class="endpoint-header" onclick="toggleEndpoint(3)">
                        <div>
                            <h3>4. post /v1/threads/ threadid :retry</h3>
                        </div>
                        <div style="display: flex; align-items: center; gap: 30px;">
                            <div class="endpoint-stats">
                                <div>Rate: <span>0.00 req/s</span></div>
                                <div>P95: <span>224.8 ms</span></div>
                                <div>Requests: <span>8</span></div>
                            </div>
                            <span class="toggle-icon" id="toggle-3">‚ñº</span>
                        </div>
                    </div>
                    <div class="endpoint-content" id="content-3">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <label>Request Rate</label>
                                <value>0.00 hits/s</value>
                            </div>
                            <div class="stat-card">
                                <label>Total Requests</label>
                                <value>8</value>
                            </div>
                            <div class="stat-card">
                                <label>P95 Latency</label>
                                <value>224.8 ms</value>
                            </div>
                            <div class="stat-card">
                                <label>P99 Latency</label>
                                <value>224.8 ms</value>
                            </div>
                        </div>
                        
                        <div class="chart-row">
                            <div class="chart-box">
                                <div class="chart-title">üìä Request Rate Over Time</div>
                                <canvas id="rateChart-3"></canvas>
                            </div>
                            <div class="chart-box">
                                <div class="chart-title">üìà P95 Latency Over Time</div>
                                <canvas id="p95Chart-3"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
    
            </div>
        </div>
    </div>
    
    <script>
        // Toggle endpoint sections
        function toggleEndpoint(index) {
            const content = document.getElementById('content-' + index);
            const icon = document.getElementById('toggle-' + index);
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.classList.remove('active');
            } else {
                content.classList.add('active');
                icon.classList.add('active');
                
                // Initialize charts when opened for the first time
                if (!content.dataset.initialized) {
                    initializeEndpointCharts(index);
                    content.dataset.initialized = 'true';
                }
            }
        }
        
        const colors = ["#632CA6","#F84D8C","#19A974","#E8871E","#3D4EB8","#C93854","#137CBD","#00BF87","#DB3737","#8F398F"];
        
        // Use REAL time series data from JSON file
        const startTime = new Date('2026-02-13T15:00:00');
        const endTime = new Date('2026-02-13T15:35:00');
        
        // Load actual time series data from JSON
        const timeSeriesData = {"get_/v1/threads":[{"timestamp":1770975080000,"value":119.5},{"timestamp":1770975100000,"value":133.2},{"timestamp":1770975190000,"value":118.5},{"timestamp":1770975200000,"value":135.3},{"timestamp":1770975220000,"value":28.6},{"timestamp":1770975230000,"value":52.2},{"timestamp":1770975240000,"value":55.9},{"timestamp":1770975250000,"value":83.7},{"timestamp":1770975260000,"value":54.3},{"timestamp":1770975270000,"value":64.3},{"timestamp":1770975280000,"value":87.7},{"timestamp":1770975290000,"value":87.8},{"timestamp":1770975300000,"value":91.4},{"timestamp":1770975310000,"value":111.6},{"timestamp":1770975320000,"value":46.4},{"timestamp":1770975330000,"value":75.1},{"timestamp":1770975340000,"value":73.3},{"timestamp":1770975350000,"value":109.4},{"timestamp":1770975360000,"value":99},{"timestamp":1770975370000,"value":109.4},{"timestamp":1770975380000,"value":97},{"timestamp":1770975390000,"value":69.5},{"timestamp":1770975400000,"value":65},{"timestamp":1770975410000,"value":47.2},{"timestamp":1770975420000,"value":93.3},{"timestamp":1770975430000,"value":49.2},{"timestamp":1770975450000,"value":89.6},{"timestamp":1770975460000,"value":103},{"timestamp":1770975470000,"value":141.9},{"timestamp":1770975480000,"value":73.9},{"timestamp":1770975490000,"value":97},{"timestamp":1770975500000,"value":51.2},{"timestamp":1770975510000,"value":68.4},{"timestamp":1770975520000,"value":127.2},{"timestamp":1770975530000,"value":55.4},{"timestamp":1770975540000,"value":81.1},{"timestamp":1770975550000,"value":195.4},{"timestamp":1770975560000,"value":50.2},{"timestamp":1770975570000,"value":82.4},{"timestamp":1770975580000,"value":59.5},{"timestamp":1770975590000,"value":43},{"timestamp":1770975600000,"value":56.8},{"timestamp":1770975610000,"value":51.8},{"timestamp":1770975620000,"value":49.2},{"timestamp":1770975630000,"value":87.7},{"timestamp":1770975640000,"value":51.8},{"timestamp":1770975650000,"value":46.4},{"timestamp":1770975660000,"value":96.2},{"timestamp":1770975670000,"value":56.8},{"timestamp":1770975680000,"value":54.3},{"timestamp":1770975690000,"value":121.4},{"timestamp":1770975700000,"value":150.7},{"timestamp":1770975710000,"value":47.2},{"timestamp":1770975720000,"value":131.2},{"timestamp":1770975730000,"value":50.2},{"timestamp":1770975740000,"value":51.2},{"timestamp":1770975750000,"value":57.7},{"timestamp":1770975760000,"value":52.6},{"timestamp":1770975770000,"value":46.4},{"timestamp":1770975780000,"value":57.7},{"timestamp":1770975790000,"value":50.2},{"timestamp":1770975800000,"value":59.5},{"timestamp":1770975810000,"value":52.6},{"timestamp":1770975820000,"value":84.4},{"timestamp":1770975830000,"value":96.2},{"timestamp":1770975840000,"value":104},{"timestamp":1770975860000,"value":93.3},{"timestamp":1770975870000,"value":48.2},{"timestamp":1770975880000,"value":81},{"timestamp":1770975890000,"value":52.6},{"timestamp":1770975900000,"value":81.1},{"timestamp":1770975920000,"value":91.4},{"timestamp":1770975930000,"value":107.2},{"timestamp":1770975950000,"value":89.6},{"timestamp":1770975960000,"value":216},{"timestamp":1770975970000,"value":116.2},{"timestamp":1770975980000,"value":91.4},{"timestamp":1770975990000,"value":107.2},{"timestamp":1770976010000,"value":18.4},{"timestamp":1770976020000,"value":107.2},{"timestamp":1770976030000,"value":47.9},{"timestamp":1770976040000,"value":66.3},{"timestamp":1770976050000,"value":146.2},{"timestamp":1770976060000,"value":61.4},{"timestamp":1770976070000,"value":101},{"timestamp":1770976080000,"value":72.8},{"timestamp":1770976090000,"value":21.1},{"timestamp":1770976100000,"value":93.2},{"timestamp":1770976110000,"value":63.3},{"timestamp":1770976120000,"value":81.1},{"timestamp":1770976130000,"value":153.7},{"timestamp":1770976140000,"value":110.6},{"timestamp":1770976150000,"value":104},{"timestamp":1770976160000,"value":141.9},{"timestamp":1770976170000,"value":146.2},{"timestamp":1770976180000,"value":55.1},{"timestamp":1770976190000,"value":208.9},{"timestamp":1770976200000,"value":21.4},{"timestamp":1770976210000,"value":52.6},{"timestamp":1770976220000,"value":55.9},{"timestamp":1770976230000,"value":62.5},{"timestamp":1770976240000,"value":68.4},{"timestamp":1770976250000,"value":64.3},{"timestamp":1770976260000,"value":62.5},{"timestamp":1770976270000,"value":107.2},{"timestamp":1770976280000,"value":114.1},{"timestamp":1770976290000,"value":63.8},{"timestamp":1770976300000,"value":255.5},{"timestamp":1770976310000,"value":184.5},{"timestamp":1770976320000,"value":84.4},{"timestamp":1770976330000,"value":160.5},{"timestamp":1770976340000,"value":170.8},{"timestamp":1770976350000,"value":79.4},{"timestamp":1770976360000,"value":243.9},{"timestamp":1770976370000,"value":236.5},{"timestamp":1770976380000,"value":109.4},{"timestamp":1770976390000,"value":170.8},{"timestamp":1770976400000,"value":208.9},{"timestamp":1770976410000,"value":45.7},{"timestamp":1770976420000,"value":170.8},{"timestamp":1770976430000,"value":43.6},{"timestamp":1770976440000,"value":50.2},{"timestamp":1770976450000,"value":184.5},{"timestamp":1770976460000,"value":47.9},{"timestamp":1770976470000,"value":54.2},{"timestamp":1770976480000,"value":112.4},{"timestamp":1770976490000,"value":53.3},{"timestamp":1770976500000,"value":168.1},{"timestamp":1770976510000,"value":90.4},{"timestamp":1770976530000,"value":108.9},{"timestamp":1770976540000,"value":48.6},{"timestamp":1770976550000,"value":46.3},{"timestamp":1770976560000,"value":236.5},{"timestamp":1770976570000,"value":144},{"timestamp":1770976590000,"value":62.3},{"timestamp":1770976600000,"value":173.4},{"timestamp":1770976620000,"value":225.7},{"timestamp":1770976630000,"value":55.4},{"timestamp":1770976640000,"value":148.5},{"timestamp":1770976650000,"value":55.9},{"timestamp":1770976670000,"value":87.8},{"timestamp":1770976680000,"value":170.8},{"timestamp":1770976700000,"value":53.4},{"timestamp":1770976710000,"value":90.4},{"timestamp":1770976730000,"value":60.4},{"timestamp":1770976740000,"value":107.2},{"timestamp":1770976760000,"value":41.9},{"timestamp":1770976770000,"value":56.5},{"timestamp":1770976790000,"value":47.2},{"timestamp":1770976800000,"value":73.9},{"timestamp":1770976820000,"value":44.5},{"timestamp":1770976830000,"value":60},{"timestamp":1770976850000,"value":61.4},{"timestamp":1770976860000,"value":87.8},{"timestamp":1770976880000,"value":73.3},{"timestamp":1770976890000,"value":51.2},{"timestamp":1770976910000,"value":109.4},{"timestamp":1770976920000,"value":52.6},{"timestamp":1770976940000,"value":57.7},{"timestamp":1770976950000,"value":109.4},{"timestamp":1770976960000,"value":91.4},{"timestamp":1770976970000,"value":63.8}],"get_/v1/threads/_threadid":[{"timestamp":1770975030000,"value":792.4}],"post_/v1/threads/_threadid_:chat":[{"timestamp":1770975180000,"value":80451.5},{"timestamp":1770975190000,"value":88901.1},{"timestamp":1770975210000,"value":20242.5},{"timestamp":1770975220000,"value":21206.2},{"timestamp":1770975230000,"value":27868.2},{"timestamp":1770975300000,"value":9323.8},{"timestamp":1770975310000,"value":9469.5},{"timestamp":1770975320000,"value":32703.8},{"timestamp":1770975330000,"value":8563},{"timestamp":1770975340000,"value":11584.1},{"timestamp":1770975350000,"value":9654.8},{"timestamp":1770975360000,"value":10075.4},{"timestamp":1770975370000,"value":10885.7},{"timestamp":1770975380000,"value":9276.2},{"timestamp":1770975390000,"value":9323.8},{"timestamp":1770975410000,"value":31421.4},{"timestamp":1770975430000,"value":27316.3},{"timestamp":1770975450000,"value":31421.4},{"timestamp":1770975460000,"value":43271.8},{"timestamp":1770975500000,"value":31421.4},{"timestamp":1770975540000,"value":96305.7},{"timestamp":1770975550000,"value":34828.2},{"timestamp":1770975700000,"value":9092.5},{"timestamp":1770975710000,"value":9092.5},{"timestamp":1770975730000,"value":14694.4},{"timestamp":1770975750000,"value":13564.6},{"timestamp":1770975810000,"value":16902.6},{"timestamp":1770975840000,"value":17244.1},{"timestamp":1770975860000,"value":16902.6},{"timestamp":1770975950000,"value":98251.2},{"timestamp":1770976000000,"value":31734.5},{"timestamp":1770976010000,"value":106434.6},{"timestamp":1770976080000,"value":8563},{"timestamp":1770976090000,"value":25216.1},{"timestamp":1770976120000,"value":27868.2},{"timestamp":1770976130000,"value":8236.2},{"timestamp":1770976150000,"value":9654.8},{"timestamp":1770976160000,"value":10075.4},{"timestamp":1770976170000,"value":12030.7},{"timestamp":1770976180000,"value":10251.8},{"timestamp":1770976210000,"value":16902.6},{"timestamp":1770976300000,"value":108584.8},{"timestamp":1770976340000,"value":30189.3},{"timestamp":1770976450000,"value":15603.1},{"timestamp":1770976490000,"value":9463.6},{"timestamp":1770976520000,"value":9463.6},{"timestamp":1770976530000,"value":13564.6},{"timestamp":1770976540000,"value":10885.7},{"timestamp":1770976570000,"value":8563},{"timestamp":1770976630000,"value":12030.7},{"timestamp":1770976650000,"value":9323.8},{"timestamp":1770976700000,"value":92529.4},{"timestamp":1770976760000,"value":11558.9},{"timestamp":1770976780000,"value":17947.9},{"timestamp":1770976870000,"value":12774.6},{"timestamp":1770976940000,"value":8227.2},{"timestamp":1770976990000,"value":20645.1}],"post_/v1/threads/_threadid_:retry":[{"timestamp":1770975450000,"value":141.9},{"timestamp":1770975760000,"value":74.8},{"timestamp":1770976100000,"value":95.1},{"timestamp":1770976220000,"value":176.8},{"timestamp":1770976270000,"value":147.7},{"timestamp":1770976280000,"value":176.8},{"timestamp":1770976590000,"value":89.6},{"timestamp":1770976670000,"value":224.8}]};
        const rateTimeSeriesData = {"get_/v1/threads":[{"timestamp":1770975080000,"value":0.5},{"timestamp":1770975100000,"value":0.5},{"timestamp":1770975190000,"value":0.1},{"timestamp":1770975200000,"value":0.3},{"timestamp":1770975220000,"value":0.1},{"timestamp":1770975230000,"value":0.1},{"timestamp":1770975240000,"value":0.4},{"timestamp":1770975250000,"value":0.4},{"timestamp":1770975260000,"value":0.2},{"timestamp":1770975270000,"value":0.3},{"timestamp":1770975280000,"value":0.3},{"timestamp":1770975290000,"value":0.1},{"timestamp":1770975300000,"value":0.1},{"timestamp":1770975310000,"value":0.1},{"timestamp":1770975320000,"value":0.2},{"timestamp":1770975330000,"value":0.4},{"timestamp":1770975340000,"value":0.1},{"timestamp":1770975350000,"value":0.2},{"timestamp":1770975360000,"value":0.2},{"timestamp":1770975370000,"value":0.2},{"timestamp":1770975380000,"value":0.2},{"timestamp":1770975390000,"value":0.2},{"timestamp":1770975400000,"value":0.2},{"timestamp":1770975410000,"value":0.2},{"timestamp":1770975420000,"value":0.4},{"timestamp":1770975430000,"value":0.1},{"timestamp":1770975450000,"value":0.2},{"timestamp":1770975460000,"value":0.1},{"timestamp":1770975470000,"value":0.1},{"timestamp":1770975480000,"value":0.2},{"timestamp":1770975490000,"value":0.1},{"timestamp":1770975500000,"value":0.1},{"timestamp":1770975510000,"value":0.2},{"timestamp":1770975520000,"value":0.3},{"timestamp":1770975530000,"value":0.1},{"timestamp":1770975540000,"value":0.2},{"timestamp":1770975550000,"value":0.1},{"timestamp":1770975560000,"value":0.2},{"timestamp":1770975570000,"value":0.5},{"timestamp":1770975580000,"value":0.3},{"timestamp":1770975590000,"value":0.2},{"timestamp":1770975600000,"value":0.5},{"timestamp":1770975610000,"value":0.3},{"timestamp":1770975620000,"value":0.2},{"timestamp":1770975630000,"value":0.5},{"timestamp":1770975640000,"value":0.3},{"timestamp":1770975650000,"value":0.2},{"timestamp":1770975660000,"value":0.5},{"timestamp":1770975670000,"value":0.3},{"timestamp":1770975680000,"value":0.2},{"timestamp":1770975690000,"value":0.5},{"timestamp":1770975700000,"value":0.1},{"timestamp":1770975710000,"value":0.3},{"timestamp":1770975720000,"value":0.4},{"timestamp":1770975730000,"value":0.3},{"timestamp":1770975740000,"value":0.2},{"timestamp":1770975750000,"value":0.3},{"timestamp":1770975760000,"value":0.4},{"timestamp":1770975770000,"value":0.2},{"timestamp":1770975780000,"value":0.4},{"timestamp":1770975790000,"value":0.2},{"timestamp":1770975800000,"value":0.4},{"timestamp":1770975810000,"value":0.3},{"timestamp":1770975820000,"value":0.1},{"timestamp":1770975830000,"value":0.3},{"timestamp":1770975840000,"value":0.4},{"timestamp":1770975860000,"value":0.3},{"timestamp":1770975870000,"value":0.2},{"timestamp":1770975880000,"value":0.1},{"timestamp":1770975890000,"value":0.3},{"timestamp":1770975900000,"value":0.3},{"timestamp":1770975920000,"value":0.1},{"timestamp":1770975930000,"value":0.1},{"timestamp":1770975950000,"value":0.1},{"timestamp":1770975960000,"value":0.1},{"timestamp":1770975970000,"value":0.1},{"timestamp":1770975980000,"value":0.1},{"timestamp":1770975990000,"value":0.1},{"timestamp":1770976010000,"value":0.2},{"timestamp":1770976020000,"value":0.4},{"timestamp":1770976030000,"value":0.3},{"timestamp":1770976040000,"value":0.3},{"timestamp":1770976050000,"value":0.4},{"timestamp":1770976060000,"value":0.2},{"timestamp":1770976070000,"value":0.1},{"timestamp":1770976080000,"value":0.2},{"timestamp":1770976090000,"value":0.3},{"timestamp":1770976100000,"value":0.1},{"timestamp":1770976110000,"value":0.4},{"timestamp":1770976120000,"value":0.3},{"timestamp":1770976130000,"value":0.1},{"timestamp":1770976140000,"value":0.3},{"timestamp":1770976150000,"value":0.2},{"timestamp":1770976160000,"value":0.2},{"timestamp":1770976170000,"value":0.2},{"timestamp":1770976180000,"value":0.2},{"timestamp":1770976190000,"value":0.4},{"timestamp":1770976200000,"value":0.2},{"timestamp":1770976210000,"value":0.2},{"timestamp":1770976220000,"value":0.3},{"timestamp":1770976230000,"value":0.1},{"timestamp":1770976240000,"value":0.4},{"timestamp":1770976250000,"value":0.3},{"timestamp":1770976260000,"value":0.1},{"timestamp":1770976270000,"value":0.4},{"timestamp":1770976280000,"value":0.3},{"timestamp":1770976290000,"value":0.1},{"timestamp":1770976300000,"value":0.4},{"timestamp":1770976310000,"value":0.5},{"timestamp":1770976320000,"value":0.1},{"timestamp":1770976330000,"value":0.4},{"timestamp":1770976340000,"value":0.3},{"timestamp":1770976350000,"value":0.1},{"timestamp":1770976360000,"value":0.5},{"timestamp":1770976370000,"value":0.3},{"timestamp":1770976380000,"value":0.2},{"timestamp":1770976390000,"value":0.5},{"timestamp":1770976400000,"value":0.3},{"timestamp":1770976410000,"value":0.2},{"timestamp":1770976420000,"value":0.5},{"timestamp":1770976430000,"value":0.2},{"timestamp":1770976440000,"value":0.2},{"timestamp":1770976450000,"value":0.4},{"timestamp":1770976460000,"value":0.2},{"timestamp":1770976470000,"value":0.3},{"timestamp":1770976480000,"value":0.5},{"timestamp":1770976490000,"value":0.1},{"timestamp":1770976500000,"value":0.4},{"timestamp":1770976510000,"value":0.4},{"timestamp":1770976530000,"value":0.4},{"timestamp":1770976540000,"value":0.3},{"timestamp":1770976550000,"value":0.1},{"timestamp":1770976560000,"value":0.5},{"timestamp":1770976570000,"value":0.4},{"timestamp":1770976590000,"value":0.5},{"timestamp":1770976600000,"value":0.5},{"timestamp":1770976620000,"value":0.4},{"timestamp":1770976630000,"value":0.1},{"timestamp":1770976640000,"value":0.2},{"timestamp":1770976650000,"value":0.2},{"timestamp":1770976670000,"value":0.2},{"timestamp":1770976680000,"value":0.2},{"timestamp":1770976700000,"value":0.2},{"timestamp":1770976710000,"value":0.3},{"timestamp":1770976730000,"value":0.3},{"timestamp":1770976740000,"value":0.3},{"timestamp":1770976760000,"value":0.2},{"timestamp":1770976770000,"value":0.2},{"timestamp":1770976790000,"value":0.2},{"timestamp":1770976800000,"value":0.2},{"timestamp":1770976820000,"value":0.2},{"timestamp":1770976830000,"value":0.2},{"timestamp":1770976850000,"value":0.2},{"timestamp":1770976860000,"value":0.2},{"timestamp":1770976880000,"value":0.1},{"timestamp":1770976890000,"value":0.2},{"timestamp":1770976910000,"value":0.2},{"timestamp":1770976920000,"value":0.2},{"timestamp":1770976940000,"value":0.2},{"timestamp":1770976950000,"value":0.1},{"timestamp":1770976960000,"value":0.1},{"timestamp":1770976970000,"value":0.2}],"get_/v1/threads/_threadid":[{"timestamp":1770975030000,"value":0.1}],"post_/v1/threads/_threadid_:chat":[{"timestamp":1770975180000,"value":0.2},{"timestamp":1770975190000,"value":0.2},{"timestamp":1770975210000,"value":0.2},{"timestamp":1770975220000,"value":0.2},{"timestamp":1770975230000,"value":0.1},{"timestamp":1770975300000,"value":0.2},{"timestamp":1770975310000,"value":0.2},{"timestamp":1770975320000,"value":0.1},{"timestamp":1770975330000,"value":0.1},{"timestamp":1770975340000,"value":0.3},{"timestamp":1770975350000,"value":0.1},{"timestamp":1770975360000,"value":0.2},{"timestamp":1770975370000,"value":0.1},{"timestamp":1770975380000,"value":0.1},{"timestamp":1770975390000,"value":0.2},{"timestamp":1770975410000,"value":0.1},{"timestamp":1770975430000,"value":0.1},{"timestamp":1770975450000,"value":0.1},{"timestamp":1770975460000,"value":0.1},{"timestamp":1770975500000,"value":0.2},{"timestamp":1770975540000,"value":0.1},{"timestamp":1770975550000,"value":0.2},{"timestamp":1770975700000,"value":0.1},{"timestamp":1770975710000,"value":0.1},{"timestamp":1770975730000,"value":0.1},{"timestamp":1770975750000,"value":0.1},{"timestamp":1770975810000,"value":0.1},{"timestamp":1770975840000,"value":0.1},{"timestamp":1770975860000,"value":0.1},{"timestamp":1770975950000,"value":0.1},{"timestamp":1770976000000,"value":0.2},{"timestamp":1770976010000,"value":0.2},{"timestamp":1770976080000,"value":0.2},{"timestamp":1770976090000,"value":0.1},{"timestamp":1770976120000,"value":0.1},{"timestamp":1770976130000,"value":0.2},{"timestamp":1770976150000,"value":0.2},{"timestamp":1770976160000,"value":0.2},{"timestamp":1770976170000,"value":0.1},{"timestamp":1770976180000,"value":0.1},{"timestamp":1770976210000,"value":0.1},{"timestamp":1770976300000,"value":0.1},{"timestamp":1770976340000,"value":0.1},{"timestamp":1770976450000,"value":0.1},{"timestamp":1770976490000,"value":0.1},{"timestamp":1770976520000,"value":0.2},{"timestamp":1770976530000,"value":0.1},{"timestamp":1770976540000,"value":0.1},{"timestamp":1770976570000,"value":0.1},{"timestamp":1770976630000,"value":0.1},{"timestamp":1770976650000,"value":0.2},{"timestamp":1770976700000,"value":0.1},{"timestamp":1770976760000,"value":0.1},{"timestamp":1770976780000,"value":0.1},{"timestamp":1770976870000,"value":0.1},{"timestamp":1770976940000,"value":0.1},{"timestamp":1770976990000,"value":0.1}],"post_/v1/threads/_threadid_:retry":[{"timestamp":1770975450000,"value":0.1},{"timestamp":1770975760000,"value":0.1},{"timestamp":1770976100000,"value":0.1},{"timestamp":1770976220000,"value":0.1},{"timestamp":1770976270000,"value":0.1},{"timestamp":1770976280000,"value":0.1},{"timestamp":1770976590000,"value":0.1},{"timestamp":1770976670000,"value":0.1}]};
        const serviceMetrics = {"p95_service":{"status":"ok","res_type":"time_series","resp_version":1,"query":"p95:trace.fastapi.request{env:staging,service:operator-agent-service}","from_date":1770975000000,"to_date":1770977100000,"series":[{"aggr":"p95","attributes":{},"display_name":"trace.fastapi.request","end":1770976999000,"expression":"p95:trace.fastapi.request{env:staging,service:operator-agent-service}","interval":10,"length":170,"metric":"trace.fastapi.request","pointlist":[[1770975030000,0.7924445271492004],[1770975080000,0.11954007566701691],[1770975100000,0.13324385985976578],[1770975180000,80.45151803065775],[1770975190000,88.29468044815283],[1770975200000,0.1353257951700746],[1770975210000,20.24245518771029],[1770975220000,21.20622351045585],[1770975230000,0.05219735577702522],[1770975240000,0.05592136660044953],[1770975250000,0.08368463480682296],[1770975260000,0.05432764068245888],[1770975270000,0.0642951509146749],[1770975280000,0.08766896375207424],[1770975290000,0.08779891580343246],[1770975300000,9.323823711226675],[1770975310000,9.46950845671459],[1770975320000,0.10892140391808167],[1770975330000,0.10397120622194485],[1770975340000,11.584076337248591],[1770975350000,0.11589021300168077],[1770975360000,10.075369143196395],[1770975370000,0.14851861261810717],[1770975380000,0.10237164920314569],[1770975390000,9.323823711226675],[1770975400000,0.06504238396883011],[1770975410000,0.07166579099381643],[1770975420000,0.09327803826790275],[1770975430000,0.04939815344457689],[1770975450000,0.14176882361824703],[1770975460000,0.10397120622194485],[1770975470000,0.14189185202121735],[1770975480000,0.07392284349337754],[1770975490000,0.09703312814235687],[1770975500000,31.2462498384063],[1770975510000,0.06840876509524993],[1770975520000,0.12718826909086367],[1770975530000,0.05542517080903053],[1770975540000,0.09043002242493009],[1770975550000,34.828244096223045],[1770975560000,0.0501699995921484],[1770975570000,0.08239717888671798],[1770975580000,0.059499224702843995],[1770975590000,0.042964550341057575],[1770975600000,0.05679513795358155],[1770975610000,0.05175006061445971],[1770975620000,0.0491575188934803],[1770975630000,0.08766896375207424],[1770975640000,0.05175006061445971],[1770975650000,0.0464277015701585],[1770975660000,0.09621574992233621],[1770975670000,0.05679513795358155],[1770975680000,0.05432764068245888],[1770975690000,0.12140788934931405],[1770975700000,0.1508392159402651],[1770975710000,0.09043002242493009],[1770975720000,0.1311939543234617],[1770975730000,0.10724569001164964],[1770975740000,0.05116374418139458],[1770975750000,0.0890387913107004],[1770975760000,0.07507788792296155],[1770975770000,0.0464277015701585],[1770975780000,0.05768256198410626],[1770975790000,0.0501699995921484],[1770975800000,0.059499224702843995],[1770975810000,0.10237164920314569],[1770975820000,0.0843561589717865],[1770975830000,0.09621574992233621],[1770975840000,0.11062330085430168],[1770975860000,0.10559575631916271],[1770975870000,0.0481841042637825],[1770975880000,0.0810483992099762],[1770975890000,0.05255865531156066],[1770975900000,0.08112952998076846],[1770975920000,0.09138217568397522],[1770975930000,0.10723855346441269],[1770975950000,0.09043002242493009],[1770975960000,0.21595695614814758],[1770975970000,0.11617044359445572],[1770975980000,0.09138217568397522],[1770975990000,0.10723855346441269],[1770976000000,31.734472492131392],[1770976010000,106.34942129860517],[1770976020000,0.10724569001164964],[1770976030000,0.047889902132304596],[1770976040000,0.06632007143908726],[1770976050000,0.1462337108855209],[1770976060000,0.06137310165271382],[1770976070000,0.10099326074123383],[1770976080000,8.495594158233569],[1770976090000,0.0727855689780948],[1770976100000,0.09327803826790275],[1770976110000,0.06330599474675681],[1770976120000,0.08239717888671798],[1770976130000,8.236202052573894],[1770976140000,0.11062330085430168],[1770976150000,9.617469526350755],[1770976160000,10.075369143196395],[1770976170000,0.14851861261810717],[1770976180000,0.13744026071960705],[1770976190000,0.2088888707547853],[1770976200000,0.021384940746733843],[1770976210000,0.0652997626477167],[1770976220000,0.17613598518151768],[1770976230000,0.06249195337295532],[1770976240000,0.06840876509524993],[1770976250000,0.0642951509146749],[1770976260000,0.06249195337295532],[1770976270000,0.14851861261810717],[1770976280000,0.17613598518151768],[1770976290000,0.06375441700220108],[1770976300000,0.6786602053880569],[1770976310000,0.18452203724088398],[1770976320000,0.0843561589717865],[1770976330000,0.16048993343375298],[1770976340000,0.25160304570710174],[1770976350000,0.07944347709417343],[1770976360000,0.243920964548234],[1770976370000,0.23647343687327022],[1770976380000,0.10940498858690262],[1770976390000,0.17075810539727726],[1770976400000,0.2088888707547853],[1770976410000,0.0457134292383099],[1770976420000,0.17075810539727726],[1770976430000,0.043635871440136594],[1770976440000,0.0501699995921484],[1770976450000,0.32244081972967814],[1770976460000,0.047889902132304596],[1770976470000,0.054213944993003846],[1770976480000,0.11235178993015016],[1770976490000,0.053379884300803794],[1770976500000,0.16813105762193453],[1770976510000,0.09043002242493009],[1770976520000,9.463571548461914],[1770976530000,0.25160304570710174],[1770976540000,0.29379859908474204],[1770976550000,0.046294715255498886],[1770976560000,0.23647343687327022],[1770976570000,0.33779262587838316],[1770976590000,0.0890387913107004],[1770976600000,0.1734262007941097],[1770976620000,0.22572632730343759],[1770976630000,0.05542517080903053],[1770976640000,0.14851861261810717],[1770976650000,9.323823711226675],[1770976670000,0.22572632730343759],[1770976680000,0.17075810539727726],[1770976700000,0.40686539776535124],[1770976710000,0.09043002242493009],[1770976730000,0.060428900088825926],[1770976740000,0.10724569001164964],[1770976760000,0.09184299152531963],[1770976770000,0.056544870138168335],[1770976780000,17.947866439819336],[1770976790000,0.047229960560798645],[1770976800000,0.07392284349337754],[1770976820000,0.04447941482067108],[1770976830000,0.060041528195142746],[1770976850000,0.06137310165271382],[1770976860000,0.08779891580343246],[1770976870000,12.774613380432129],[1770976880000,0.07333537936210632],[1770976890000,0.05116374418139458],[1770976910000,0.10940498858690262],[1770976920000,0.05255865531156066],[1770976940000,0.08499220722567954],[1770976950000,0.10940498858690262],[1770976960000,0.09138217568397522],[1770976970000,0.06375441700220108],[1770976990000,20.645055770874023]],"query_index":0,"scope":"env:staging,service:operator-agent-service","start":1770975030000,"tag_set":[],"unit":[{"family":"time","name":"second","plural":"seconds","scale_factor":1,"short_name":"s","id":11},null]}],"values":[],"times":[],"message":"","group_by":[]},"rate_service":{"status":"ok","res_type":"time_series","resp_version":1,"query":"autosmooth(sum:trace.fastapi.request.hits{env:staging,service:operator-agent-service}.as_rate())","from_date":1770975000000,"to_date":1770977100000,"series":[{"aggr":"sum","attributes":{"smoothing_window":[20]},"display_name":"autosmooth(trace.fastapi.request.hits)","end":1770977099000,"expression":"autosmooth(sum:trace.fastapi.request.hits{env:staging,service:operator-agent-service}.as_rate())","interval":10,"length":210,"metric":"autosmooth(trace.fastapi.request.hits)","pointlist":[[1770975000000,0],[1770975010000,0],[1770975020000,0],[1770975030000,0.005],[1770975040000,0.005],[1770975050000,0.005],[1770975060000,0.005],[1770975070000,0.005],[1770975080000,0.03],[1770975090000,0.03],[1770975100000,0.05500000000000001],[1770975110000,0.05500000000000001],[1770975120000,0.05500000000000001],[1770975130000,0.05500000000000001],[1770975140000,0.05500000000000001],[1770975150000,0.05500000000000001],[1770975160000,0.05500000000000001],[1770975170000,0.05500000000000001],[1770975180000,0.065],[1770975190000,0.08],[1770975200000,0.095],[1770975210000,0.10500000000000001],[1770975220000,0.12],[1770975230000,0.125],[1770975240000,0.145],[1770975250000,0.16499999999999998],[1770975260000,0.175],[1770975270000,0.19],[1770975280000,0.18],[1770975290000,0.185],[1770975300000,0.175],[1770975310000,0.18999999999999997],[1770975320000,0.205],[1770975330000,0.22999999999999998],[1770975340000,0.25],[1770975350000,0.26499999999999996],[1770975360000,0.285],[1770975370000,0.3],[1770975380000,0.305],[1770975390000,0.30999999999999994],[1770975400000,0.305],[1770975410000,0.31000000000000005],[1770975420000,0.31500000000000006],[1770975430000,0.31500000000000006],[1770975440000,0.29500000000000004],[1770975450000,0.29500000000000004],[1770975460000,0.29500000000000004],[1770975470000,0.285],[1770975480000,0.2799999999999999],[1770975490000,0.2799999999999999],[1770975500000,0.27999999999999997],[1770975510000,0.27499999999999997],[1770975520000,0.275],[1770975530000,0.255],[1770975540000,0.25],[1770975550000,0.25000000000000006],[1770975560000,0.24],[1770975570000,0.25],[1770975580000,0.25000000000000006],[1770975590000,0.24],[1770975600000,0.255],[1770975610000,0.255],[1770975620000,0.24499999999999994],[1770975630000,0.25999999999999995],[1770975640000,0.275],[1770975650000,0.26499999999999996],[1770975660000,0.27999999999999997],[1770975670000,0.29000000000000004],[1770975680000,0.29000000000000004],[1770975690000,0.31000000000000016],[1770975700000,0.30500000000000005],[1770975710000,0.31500000000000006],[1770975720000,0.31999999999999995],[1770975730000,0.33499999999999985],[1770975740000,0.3299999999999998],[1770975750000,0.3349999999999997],[1770975760000,0.34999999999999976],[1770975770000,0.3349999999999997],[1770975780000,0.3399999999999996],[1770975790000,0.3399999999999996],[1770975800000,0.3349999999999995],[1770975810000,0.3399999999999994],[1770975820000,0.3349999999999995],[1770975830000,0.32499999999999957],[1770975840000,0.3349999999999995],[1770975850000,0.32499999999999957],[1770975860000,0.3199999999999995],[1770975870000,0.3149999999999994],[1770975880000,0.3099999999999995],[1770975890000,0.2999999999999995],[1770975900000,0.30499999999999955],[1770975910000,0.2849999999999996],[1770975920000,0.26999999999999974],[1770975930000,0.2549999999999999],[1770975940000,0.24499999999999994],[1770975950000,0.23499999999999996],[1770975960000,0.21500000000000002],[1770975970000,0.21000000000000013],[1770975980000,0.19500000000000028],[1770975990000,0.1900000000000004],[1770976000000,0.18000000000000044],[1770976010000,0.18000000000000044],[1770976020000,0.19500000000000028],[1770976030000,0.19500000000000028],[1770976040000,0.18500000000000033],[1770976050000,0.20500000000000024],[1770976060000,0.19500000000000028],[1770976070000,0.1900000000000004],[1770976080000,0.20500000000000024],[1770976090000,0.21000000000000013],[1770976100000,0.20500000000000007],[1770976110000,0.225],[1770976120000,0.23999999999999985],[1770976130000,0.24999999999999983],[1770976140000,0.26499999999999985],[1770976150000,0.2749999999999998],[1770976160000,0.2899999999999997],[1770976170000,0.29999999999999966],[1770976180000,0.3099999999999996],[1770976190000,0.32499999999999946],[1770976200000,0.32499999999999946],[1770976210000,0.31999999999999956],[1770976220000,0.31999999999999956],[1770976230000,0.3099999999999996],[1770976240000,0.3149999999999995],[1770976250000,0.3099999999999996],[1770976260000,0.3049999999999997],[1770976270000,0.3249999999999996],[1770976280000,0.32499999999999984],[1770976290000,0.30999999999999994],[1770976300000,0.325],[1770976310000,0.33000000000000007],[1770976320000,0.3150000000000002],[1770976330000,0.3200000000000001],[1770976340000,0.325],[1770976350000,0.31000000000000016],[1770976360000,0.3150000000000002],[1770976370000,0.31500000000000006],[1770976380000,0.31000000000000016],[1770976390000,0.3150000000000002],[1770976400000,0.3200000000000001],[1770976410000,0.3150000000000002],[1770976420000,0.3200000000000003],[1770976430000,0.32500000000000034],[1770976440000,0.31500000000000056],[1770976450000,0.3250000000000005],[1770976460000,0.3300000000000006],[1770976470000,0.32000000000000045],[1770976480000,0.32500000000000034],[1770976490000,0.3300000000000004],[1770976500000,0.32500000000000034],[1770976510000,0.3200000000000003],[1770976520000,0.32500000000000034],[1770976530000,0.3300000000000004],[1770976540000,0.3300000000000004],[1770976550000,0.3300000000000004],[1770976560000,0.3300000000000004],[1770976570000,0.3400000000000006],[1770976580000,0.3300000000000004],[1770976590000,0.3350000000000005],[1770976600000,0.34500000000000064],[1770976610000,0.3350000000000005],[1770976620000,0.3300000000000004],[1770976630000,0.3300000000000004],[1770976640000,0.3300000000000004],[1770976650000,0.32500000000000034],[1770976660000,0.3150000000000002],[1770976670000,0.3150000000000002],[1770976680000,0.3000000000000004],[1770976690000,0.2900000000000002],[1770976700000,0.28500000000000014],[1770976710000,0.2800000000000001],[1770976720000,0.2699999999999999],[1770976730000,0.2599999999999998],[1770976740000,0.2549999999999997],[1770976750000,0.24999999999999964],[1770976760000,0.2399999999999995],[1770976770000,0.22499999999999964],[1770976780000,0.2299999999999997],[1770976790000,0.2099999999999998],[1770976800000,0.19499999999999992],[1770976810000,0.19499999999999992],[1770976820000,0.18500000000000014],[1770976830000,0.18500000000000014],[1770976840000,0.175],[1770976850000,0.1650000000000002],[1770976860000,0.17500000000000035],[1770976870000,0.16500000000000056],[1770976880000,0.1600000000000005],[1770976890000,0.17000000000000065],[1770976900000,0.15500000000000078],[1770976910000,0.15000000000000108],[1770976920000,0.1600000000000012],[1770976930000,0.14500000000000135],[1770976940000,0.14500000000000135],[1770976950000,0.1500000000000014],[1770976960000,0.14000000000000162],[1770976970000,0.14000000000000162],[1770976980000,0.13500000000000156],[1770976990000,0.1300000000000015],[1770977000000,0.12000000000000136],[1770977010000,0.12000000000000136],[1770977020000,0.11000000000000121],[1770977030000,0.10000000000000106],[1770977040000,0.10000000000000106],[1770977050000,0.09000000000000093],[1770977060000,0.08000000000000078],[1770977070000,0.0750000000000007],[1770977080000,0.07000000000000065],[1770977090000,0.0600000000000005]],"query_index":0,"scope":"env:staging,service:operator-agent-service","start":1770975000000,"tag_set":[],"unit":[{"family":"cache","name":"hit","plural":"hits","scale_factor":1,"short_name":"","id":39},{"family":"time","name":"second","plural":"seconds","scale_factor":1,"short_name":"s","id":11}]}],"values":[],"times":[],"message":"","group_by":[]}};
        console.log('Time series data loaded:', timeSeriesData);
        console.log('Service metrics loaded:', serviceMetrics);
        
        // Create Combined Timeline Chart with service-level data
        const combinedCtx = document.getElementById('combinedChart').getContext('2d');
        
        // Calculate service-level P95 by excluding outlier endpoints (like chat) until service queries work
        const nonChatEndpoints = [{"resource_name":"get_/v1/threads","service":"operator-agent-service","requests":"409","p95_latency":"195.4 ms","p99_latency":"243.9 ms","rate":"0.19 hits/s","errors":"‚Äî","error_rate":"0.00"},{"resource_name":"get_/v1/threads/_threadid","service":"operator-agent-service","requests":"1","p95_latency":"792.4 ms","p99_latency":"792.4 ms","rate":"0.00 hits/s","errors":"‚Äî","error_rate":"0.00"},{"resource_name":"post_/v1/threads/_threadid_:retry","service":"operator-agent-service","requests":"8","p95_latency":"224.8 ms","p99_latency":"224.8 ms","rate":"0.00 hits/s","errors":"‚Äî","error_rate":"0.00"}];
        const totalRate = 0.23;
        const totalRequests = 495;
        
        // Use non-chat endpoints for more representative service P95
        const serviceP95 = nonChatEndpoints.length > 0 ? 
            197.39090909090908 :
            15450.205656565657;
        
        console.log('Total rate:', totalRate.toFixed(2), 'hits/s');
        console.log('Total requests:', totalRequests);
        console.log('Service P95 (excluding chat outliers):', serviceP95.toFixed(1), 'ms');
        
        // Try to use service-level data first, then fall back to endpoint aggregation
        let aggregatedRateTimeSeries = [];
        let aggregatedP95TimeSeries = [];
        
        if (serviceMetrics && serviceMetrics.rate_service && serviceMetrics.p95_service) {
            console.log('Using service-level metrics data');
            
            // Extract service-level time series data
            if (serviceMetrics.rate_service.series && serviceMetrics.rate_service.series.length > 0) {
                const rateSeries = serviceMetrics.rate_service.series[0];
                aggregatedRateTimeSeries = rateSeries.pointlist.map(point => ({
                    x: new Date(point[0]),
                    y: point[1]
                }));
            }
            
            if (serviceMetrics.p95_service.series && serviceMetrics.p95_service.series.length > 0) {
                const p95Series = serviceMetrics.p95_service.series[0];
                aggregatedP95TimeSeries = p95Series.pointlist.map(point => ({
                    x: new Date(point[0]),
                    y: point[1] * 1000 // Convert from seconds to milliseconds
                }));
            }
            
            console.log('Using service-level time series data, points:', aggregatedP95TimeSeries.length);
        } else if (Object.keys(timeSeriesData).length > 0) {
            console.log('Using endpoint aggregated time series data');
            // Use real time series data - aggregate across all endpoints
            const allTimestamps = new Set();
            
            // Collect all unique timestamps from P95 data
            Object.values(timeSeriesData).forEach(series => {
                if (Array.isArray(series)) {
                    series.forEach(point => allTimestamps.add(point.timestamp));
                }
            });
            
            // Sort timestamps chronologically
            const sortedTimestamps = Array.from(allTimestamps).sort((a, b) => a - b);
            
            // Aggregate P95 data (average across all endpoints for each timestamp)
            aggregatedP95TimeSeries = sortedTimestamps.map(timestamp => {
                let totalP95 = 0;
                let count = 0;
                
                Object.values(timeSeriesData).forEach(series => {
                    if (Array.isArray(series)) {
                        const point = series.find(p => p.timestamp === timestamp);
                        if (point && point.value) {
                            totalP95 += point.value;
                            count++;
                        }
                    }
                });
                
                return {
                    x: new Date(timestamp),
                    y: count > 0 ? totalP95 / count : 0
                };
            });
            
            // Aggregate Rate data (sum across all endpoints for each timestamp)
            if (Object.keys(rateTimeSeriesData).length > 0) {
                aggregatedRateTimeSeries = sortedTimestamps.map(timestamp => {
                    let totalRate = 0;
                    
                    Object.values(rateTimeSeriesData).forEach(series => {
                        if (Array.isArray(series)) {
                            const point = series.find(p => p.timestamp === timestamp);
                            if (point && point.value) {
                                totalRate += point.value;
                            }
                        }
                    });
                    
                    return {
                        x: new Date(timestamp),
                        y: totalRate
                    };
                });
            } else {
                // Fallback: Create rate data based on calculated total
                aggregatedRateTimeSeries = sortedTimestamps.map(timestamp => ({
                    x: new Date(timestamp),
                    y: totalRate
                }));
            }
            
            console.log('Using real time series data, points:', aggregatedP95TimeSeries.length);
        } else {
            console.log('No time series data available, using aggregate values');
            // Create simple two-point series for start and end using service-level P95
            aggregatedRateTimeSeries = [{ x: startTime, y: totalRate }, { x: endTime, y: totalRate }];
            aggregatedP95TimeSeries = [{ x: startTime, y: serviceP95 }, { x: endTime, y: serviceP95 }];
        }
        
        new Chart(combinedCtx, {
            type: 'line',
            data: {
                datasets: [
                    {
                        label: 'Request Rate (hits/s)',
                        data: aggregatedRateTimeSeries,
                        borderColor: '#4A90E2',
                        backgroundColor: 'rgba(74, 144, 226, 0.1)',
                        borderWidth: 2,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y'
                    },
                    {
                        label: 'P95 Latency (ms)',
                        data: aggregatedP95TimeSeries,
                        borderColor: '#F5A623',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        fill: false,
                        tension: 0.2,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: { mode: 'index', intersect: false },
                plugins: {
                    title: { 
                        display: true, 
                        text: `operator-agent-service Performance Metrics`,
                        font: { size: 18, weight: 'bold' }
                    },
                    legend: { display: true, position: 'top', labels: { font: { size: 11 }, boxWidth: 12, padding: 10 } },
                    tooltip: {
                        backgroundColor: 'rgba(0,0,0,0.9)',
                        callbacks: {
                            label: function(context) {
                                const isRate = context.datasetIndex === 0;
                                const unit = isRate ? ' hits/s' : ' ms';
                                const value = context.parsed.y.toFixed(isRate ? 2 : 1);
                                return context.dataset.label + ': ' + value + unit;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        type: 'time',
                        time: { displayFormats: { minute: 'HH:mm' } },
                        title: { display: true, text: 'Time', font: { size: 14, weight: '600' } }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: { 
                            display: true, 
                            text: 'Request Rate (hits/s)', 
                            font: { size: 14, weight: '600' }, 
                            color: '#4A90E2' 
                        },
                        beginAtZero: true,
                        grid: { drawOnChartArea: true },
                        ticks: { color: '#4A90E2' }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: { 
                            display: true, 
                            text: 'P95 Latency (ms)', 
                            font: { size: 14, weight: '600' }, 
                            color: '#F5A623' 
                        },
                        beginAtZero: true,
                        grid: { drawOnChartArea: false },
                        ticks: { color: '#F5A623' }
                    }
                }
            }
        });
        
        // Initialize endpoint charts
        function initializeEndpointCharts(index) {
            const endpoints = ["get_/v1/threads","get_/v1/threads/_threadid","post_/v1/threads/_threadid_:chat","post_/v1/threads/_threadid_:retry"];
            const endpoint = endpoints[index];
            const timeSeries = {"get_/v1/threads":[{"timestamp":1770975080000,"value":119.5},{"timestamp":1770975100000,"value":133.2},{"timestamp":1770975190000,"value":118.5},{"timestamp":1770975200000,"value":135.3},{"timestamp":1770975220000,"value":28.6},{"timestamp":1770975230000,"value":52.2},{"timestamp":1770975240000,"value":55.9},{"timestamp":1770975250000,"value":83.7},{"timestamp":1770975260000,"value":54.3},{"timestamp":1770975270000,"value":64.3},{"timestamp":1770975280000,"value":87.7},{"timestamp":1770975290000,"value":87.8},{"timestamp":1770975300000,"value":91.4},{"timestamp":1770975310000,"value":111.6},{"timestamp":1770975320000,"value":46.4},{"timestamp":1770975330000,"value":75.1},{"timestamp":1770975340000,"value":73.3},{"timestamp":1770975350000,"value":109.4},{"timestamp":1770975360000,"value":99},{"timestamp":1770975370000,"value":109.4},{"timestamp":1770975380000,"value":97},{"timestamp":1770975390000,"value":69.5},{"timestamp":1770975400000,"value":65},{"timestamp":1770975410000,"value":47.2},{"timestamp":1770975420000,"value":93.3},{"timestamp":1770975430000,"value":49.2},{"timestamp":1770975450000,"value":89.6},{"timestamp":1770975460000,"value":103},{"timestamp":1770975470000,"value":141.9},{"timestamp":1770975480000,"value":73.9},{"timestamp":1770975490000,"value":97},{"timestamp":1770975500000,"value":51.2},{"timestamp":1770975510000,"value":68.4},{"timestamp":1770975520000,"value":127.2},{"timestamp":1770975530000,"value":55.4},{"timestamp":1770975540000,"value":81.1},{"timestamp":1770975550000,"value":195.4},{"timestamp":1770975560000,"value":50.2},{"timestamp":1770975570000,"value":82.4},{"timestamp":1770975580000,"value":59.5},{"timestamp":1770975590000,"value":43},{"timestamp":1770975600000,"value":56.8},{"timestamp":1770975610000,"value":51.8},{"timestamp":1770975620000,"value":49.2},{"timestamp":1770975630000,"value":87.7},{"timestamp":1770975640000,"value":51.8},{"timestamp":1770975650000,"value":46.4},{"timestamp":1770975660000,"value":96.2},{"timestamp":1770975670000,"value":56.8},{"timestamp":1770975680000,"value":54.3},{"timestamp":1770975690000,"value":121.4},{"timestamp":1770975700000,"value":150.7},{"timestamp":1770975710000,"value":47.2},{"timestamp":1770975720000,"value":131.2},{"timestamp":1770975730000,"value":50.2},{"timestamp":1770975740000,"value":51.2},{"timestamp":1770975750000,"value":57.7},{"timestamp":1770975760000,"value":52.6},{"timestamp":1770975770000,"value":46.4},{"timestamp":1770975780000,"value":57.7},{"timestamp":1770975790000,"value":50.2},{"timestamp":1770975800000,"value":59.5},{"timestamp":1770975810000,"value":52.6},{"timestamp":1770975820000,"value":84.4},{"timestamp":1770975830000,"value":96.2},{"timestamp":1770975840000,"value":104},{"timestamp":1770975860000,"value":93.3},{"timestamp":1770975870000,"value":48.2},{"timestamp":1770975880000,"value":81},{"timestamp":1770975890000,"value":52.6},{"timestamp":1770975900000,"value":81.1},{"timestamp":1770975920000,"value":91.4},{"timestamp":1770975930000,"value":107.2},{"timestamp":1770975950000,"value":89.6},{"timestamp":1770975960000,"value":216},{"timestamp":1770975970000,"value":116.2},{"timestamp":1770975980000,"value":91.4},{"timestamp":1770975990000,"value":107.2},{"timestamp":1770976010000,"value":18.4},{"timestamp":1770976020000,"value":107.2},{"timestamp":1770976030000,"value":47.9},{"timestamp":1770976040000,"value":66.3},{"timestamp":1770976050000,"value":146.2},{"timestamp":1770976060000,"value":61.4},{"timestamp":1770976070000,"value":101},{"timestamp":1770976080000,"value":72.8},{"timestamp":1770976090000,"value":21.1},{"timestamp":1770976100000,"value":93.2},{"timestamp":1770976110000,"value":63.3},{"timestamp":1770976120000,"value":81.1},{"timestamp":1770976130000,"value":153.7},{"timestamp":1770976140000,"value":110.6},{"timestamp":1770976150000,"value":104},{"timestamp":1770976160000,"value":141.9},{"timestamp":1770976170000,"value":146.2},{"timestamp":1770976180000,"value":55.1},{"timestamp":1770976190000,"value":208.9},{"timestamp":1770976200000,"value":21.4},{"timestamp":1770976210000,"value":52.6},{"timestamp":1770976220000,"value":55.9},{"timestamp":1770976230000,"value":62.5},{"timestamp":1770976240000,"value":68.4},{"timestamp":1770976250000,"value":64.3},{"timestamp":1770976260000,"value":62.5},{"timestamp":1770976270000,"value":107.2},{"timestamp":1770976280000,"value":114.1},{"timestamp":1770976290000,"value":63.8},{"timestamp":1770976300000,"value":255.5},{"timestamp":1770976310000,"value":184.5},{"timestamp":1770976320000,"value":84.4},{"timestamp":1770976330000,"value":160.5},{"timestamp":1770976340000,"value":170.8},{"timestamp":1770976350000,"value":79.4},{"timestamp":1770976360000,"value":243.9},{"timestamp":1770976370000,"value":236.5},{"timestamp":1770976380000,"value":109.4},{"timestamp":1770976390000,"value":170.8},{"timestamp":1770976400000,"value":208.9},{"timestamp":1770976410000,"value":45.7},{"timestamp":1770976420000,"value":170.8},{"timestamp":1770976430000,"value":43.6},{"timestamp":1770976440000,"value":50.2},{"timestamp":1770976450000,"value":184.5},{"timestamp":1770976460000,"value":47.9},{"timestamp":1770976470000,"value":54.2},{"timestamp":1770976480000,"value":112.4},{"timestamp":1770976490000,"value":53.3},{"timestamp":1770976500000,"value":168.1},{"timestamp":1770976510000,"value":90.4},{"timestamp":1770976530000,"value":108.9},{"timestamp":1770976540000,"value":48.6},{"timestamp":1770976550000,"value":46.3},{"timestamp":1770976560000,"value":236.5},{"timestamp":1770976570000,"value":144},{"timestamp":1770976590000,"value":62.3},{"timestamp":1770976600000,"value":173.4},{"timestamp":1770976620000,"value":225.7},{"timestamp":1770976630000,"value":55.4},{"timestamp":1770976640000,"value":148.5},{"timestamp":1770976650000,"value":55.9},{"timestamp":1770976670000,"value":87.8},{"timestamp":1770976680000,"value":170.8},{"timestamp":1770976700000,"value":53.4},{"timestamp":1770976710000,"value":90.4},{"timestamp":1770976730000,"value":60.4},{"timestamp":1770976740000,"value":107.2},{"timestamp":1770976760000,"value":41.9},{"timestamp":1770976770000,"value":56.5},{"timestamp":1770976790000,"value":47.2},{"timestamp":1770976800000,"value":73.9},{"timestamp":1770976820000,"value":44.5},{"timestamp":1770976830000,"value":60},{"timestamp":1770976850000,"value":61.4},{"timestamp":1770976860000,"value":87.8},{"timestamp":1770976880000,"value":73.3},{"timestamp":1770976890000,"value":51.2},{"timestamp":1770976910000,"value":109.4},{"timestamp":1770976920000,"value":52.6},{"timestamp":1770976940000,"value":57.7},{"timestamp":1770976950000,"value":109.4},{"timestamp":1770976960000,"value":91.4},{"timestamp":1770976970000,"value":63.8}],"get_/v1/threads/_threadid":[{"timestamp":1770975030000,"value":792.4}],"post_/v1/threads/_threadid_:chat":[{"timestamp":1770975180000,"value":80451.5},{"timestamp":1770975190000,"value":88901.1},{"timestamp":1770975210000,"value":20242.5},{"timestamp":1770975220000,"value":21206.2},{"timestamp":1770975230000,"value":27868.2},{"timestamp":1770975300000,"value":9323.8},{"timestamp":1770975310000,"value":9469.5},{"timestamp":1770975320000,"value":32703.8},{"timestamp":1770975330000,"value":8563},{"timestamp":1770975340000,"value":11584.1},{"timestamp":1770975350000,"value":9654.8},{"timestamp":1770975360000,"value":10075.4},{"timestamp":1770975370000,"value":10885.7},{"timestamp":1770975380000,"value":9276.2},{"timestamp":1770975390000,"value":9323.8},{"timestamp":1770975410000,"value":31421.4},{"timestamp":1770975430000,"value":27316.3},{"timestamp":1770975450000,"value":31421.4},{"timestamp":1770975460000,"value":43271.8},{"timestamp":1770975500000,"value":31421.4},{"timestamp":1770975540000,"value":96305.7},{"timestamp":1770975550000,"value":34828.2},{"timestamp":1770975700000,"value":9092.5},{"timestamp":1770975710000,"value":9092.5},{"timestamp":1770975730000,"value":14694.4},{"timestamp":1770975750000,"value":13564.6},{"timestamp":1770975810000,"value":16902.6},{"timestamp":1770975840000,"value":17244.1},{"timestamp":1770975860000,"value":16902.6},{"timestamp":1770975950000,"value":98251.2},{"timestamp":1770976000000,"value":31734.5},{"timestamp":1770976010000,"value":106434.6},{"timestamp":1770976080000,"value":8563},{"timestamp":1770976090000,"value":25216.1},{"timestamp":1770976120000,"value":27868.2},{"timestamp":1770976130000,"value":8236.2},{"timestamp":1770976150000,"value":9654.8},{"timestamp":1770976160000,"value":10075.4},{"timestamp":1770976170000,"value":12030.7},{"timestamp":1770976180000,"value":10251.8},{"timestamp":1770976210000,"value":16902.6},{"timestamp":1770976300000,"value":108584.8},{"timestamp":1770976340000,"value":30189.3},{"timestamp":1770976450000,"value":15603.1},{"timestamp":1770976490000,"value":9463.6},{"timestamp":1770976520000,"value":9463.6},{"timestamp":1770976530000,"value":13564.6},{"timestamp":1770976540000,"value":10885.7},{"timestamp":1770976570000,"value":8563},{"timestamp":1770976630000,"value":12030.7},{"timestamp":1770976650000,"value":9323.8},{"timestamp":1770976700000,"value":92529.4},{"timestamp":1770976760000,"value":11558.9},{"timestamp":1770976780000,"value":17947.9},{"timestamp":1770976870000,"value":12774.6},{"timestamp":1770976940000,"value":8227.2},{"timestamp":1770976990000,"value":20645.1}],"post_/v1/threads/_threadid_:retry":[{"timestamp":1770975450000,"value":141.9},{"timestamp":1770975760000,"value":74.8},{"timestamp":1770976100000,"value":95.1},{"timestamp":1770976220000,"value":176.8},{"timestamp":1770976270000,"value":147.7},{"timestamp":1770976280000,"value":176.8},{"timestamp":1770976590000,"value":89.6},{"timestamp":1770976670000,"value":224.8}]};
            const rateTimeSeries = {"get_/v1/threads":[{"timestamp":1770975080000,"value":0.5},{"timestamp":1770975100000,"value":0.5},{"timestamp":1770975190000,"value":0.1},{"timestamp":1770975200000,"value":0.3},{"timestamp":1770975220000,"value":0.1},{"timestamp":1770975230000,"value":0.1},{"timestamp":1770975240000,"value":0.4},{"timestamp":1770975250000,"value":0.4},{"timestamp":1770975260000,"value":0.2},{"timestamp":1770975270000,"value":0.3},{"timestamp":1770975280000,"value":0.3},{"timestamp":1770975290000,"value":0.1},{"timestamp":1770975300000,"value":0.1},{"timestamp":1770975310000,"value":0.1},{"timestamp":1770975320000,"value":0.2},{"timestamp":1770975330000,"value":0.4},{"timestamp":1770975340000,"value":0.1},{"timestamp":1770975350000,"value":0.2},{"timestamp":1770975360000,"value":0.2},{"timestamp":1770975370000,"value":0.2},{"timestamp":1770975380000,"value":0.2},{"timestamp":1770975390000,"value":0.2},{"timestamp":1770975400000,"value":0.2},{"timestamp":1770975410000,"value":0.2},{"timestamp":1770975420000,"value":0.4},{"timestamp":1770975430000,"value":0.1},{"timestamp":1770975450000,"value":0.2},{"timestamp":1770975460000,"value":0.1},{"timestamp":1770975470000,"value":0.1},{"timestamp":1770975480000,"value":0.2},{"timestamp":1770975490000,"value":0.1},{"timestamp":1770975500000,"value":0.1},{"timestamp":1770975510000,"value":0.2},{"timestamp":1770975520000,"value":0.3},{"timestamp":1770975530000,"value":0.1},{"timestamp":1770975540000,"value":0.2},{"timestamp":1770975550000,"value":0.1},{"timestamp":1770975560000,"value":0.2},{"timestamp":1770975570000,"value":0.5},{"timestamp":1770975580000,"value":0.3},{"timestamp":1770975590000,"value":0.2},{"timestamp":1770975600000,"value":0.5},{"timestamp":1770975610000,"value":0.3},{"timestamp":1770975620000,"value":0.2},{"timestamp":1770975630000,"value":0.5},{"timestamp":1770975640000,"value":0.3},{"timestamp":1770975650000,"value":0.2},{"timestamp":1770975660000,"value":0.5},{"timestamp":1770975670000,"value":0.3},{"timestamp":1770975680000,"value":0.2},{"timestamp":1770975690000,"value":0.5},{"timestamp":1770975700000,"value":0.1},{"timestamp":1770975710000,"value":0.3},{"timestamp":1770975720000,"value":0.4},{"timestamp":1770975730000,"value":0.3},{"timestamp":1770975740000,"value":0.2},{"timestamp":1770975750000,"value":0.3},{"timestamp":1770975760000,"value":0.4},{"timestamp":1770975770000,"value":0.2},{"timestamp":1770975780000,"value":0.4},{"timestamp":1770975790000,"value":0.2},{"timestamp":1770975800000,"value":0.4},{"timestamp":1770975810000,"value":0.3},{"timestamp":1770975820000,"value":0.1},{"timestamp":1770975830000,"value":0.3},{"timestamp":1770975840000,"value":0.4},{"timestamp":1770975860000,"value":0.3},{"timestamp":1770975870000,"value":0.2},{"timestamp":1770975880000,"value":0.1},{"timestamp":1770975890000,"value":0.3},{"timestamp":1770975900000,"value":0.3},{"timestamp":1770975920000,"value":0.1},{"timestamp":1770975930000,"value":0.1},{"timestamp":1770975950000,"value":0.1},{"timestamp":1770975960000,"value":0.1},{"timestamp":1770975970000,"value":0.1},{"timestamp":1770975980000,"value":0.1},{"timestamp":1770975990000,"value":0.1},{"timestamp":1770976010000,"value":0.2},{"timestamp":1770976020000,"value":0.4},{"timestamp":1770976030000,"value":0.3},{"timestamp":1770976040000,"value":0.3},{"timestamp":1770976050000,"value":0.4},{"timestamp":1770976060000,"value":0.2},{"timestamp":1770976070000,"value":0.1},{"timestamp":1770976080000,"value":0.2},{"timestamp":1770976090000,"value":0.3},{"timestamp":1770976100000,"value":0.1},{"timestamp":1770976110000,"value":0.4},{"timestamp":1770976120000,"value":0.3},{"timestamp":1770976130000,"value":0.1},{"timestamp":1770976140000,"value":0.3},{"timestamp":1770976150000,"value":0.2},{"timestamp":1770976160000,"value":0.2},{"timestamp":1770976170000,"value":0.2},{"timestamp":1770976180000,"value":0.2},{"timestamp":1770976190000,"value":0.4},{"timestamp":1770976200000,"value":0.2},{"timestamp":1770976210000,"value":0.2},{"timestamp":1770976220000,"value":0.3},{"timestamp":1770976230000,"value":0.1},{"timestamp":1770976240000,"value":0.4},{"timestamp":1770976250000,"value":0.3},{"timestamp":1770976260000,"value":0.1},{"timestamp":1770976270000,"value":0.4},{"timestamp":1770976280000,"value":0.3},{"timestamp":1770976290000,"value":0.1},{"timestamp":1770976300000,"value":0.4},{"timestamp":1770976310000,"value":0.5},{"timestamp":1770976320000,"value":0.1},{"timestamp":1770976330000,"value":0.4},{"timestamp":1770976340000,"value":0.3},{"timestamp":1770976350000,"value":0.1},{"timestamp":1770976360000,"value":0.5},{"timestamp":1770976370000,"value":0.3},{"timestamp":1770976380000,"value":0.2},{"timestamp":1770976390000,"value":0.5},{"timestamp":1770976400000,"value":0.3},{"timestamp":1770976410000,"value":0.2},{"timestamp":1770976420000,"value":0.5},{"timestamp":1770976430000,"value":0.2},{"timestamp":1770976440000,"value":0.2},{"timestamp":1770976450000,"value":0.4},{"timestamp":1770976460000,"value":0.2},{"timestamp":1770976470000,"value":0.3},{"timestamp":1770976480000,"value":0.5},{"timestamp":1770976490000,"value":0.1},{"timestamp":1770976500000,"value":0.4},{"timestamp":1770976510000,"value":0.4},{"timestamp":1770976530000,"value":0.4},{"timestamp":1770976540000,"value":0.3},{"timestamp":1770976550000,"value":0.1},{"timestamp":1770976560000,"value":0.5},{"timestamp":1770976570000,"value":0.4},{"timestamp":1770976590000,"value":0.5},{"timestamp":1770976600000,"value":0.5},{"timestamp":1770976620000,"value":0.4},{"timestamp":1770976630000,"value":0.1},{"timestamp":1770976640000,"value":0.2},{"timestamp":1770976650000,"value":0.2},{"timestamp":1770976670000,"value":0.2},{"timestamp":1770976680000,"value":0.2},{"timestamp":1770976700000,"value":0.2},{"timestamp":1770976710000,"value":0.3},{"timestamp":1770976730000,"value":0.3},{"timestamp":1770976740000,"value":0.3},{"timestamp":1770976760000,"value":0.2},{"timestamp":1770976770000,"value":0.2},{"timestamp":1770976790000,"value":0.2},{"timestamp":1770976800000,"value":0.2},{"timestamp":1770976820000,"value":0.2},{"timestamp":1770976830000,"value":0.2},{"timestamp":1770976850000,"value":0.2},{"timestamp":1770976860000,"value":0.2},{"timestamp":1770976880000,"value":0.1},{"timestamp":1770976890000,"value":0.2},{"timestamp":1770976910000,"value":0.2},{"timestamp":1770976920000,"value":0.2},{"timestamp":1770976940000,"value":0.2},{"timestamp":1770976950000,"value":0.1},{"timestamp":1770976960000,"value":0.1},{"timestamp":1770976970000,"value":0.2}],"get_/v1/threads/_threadid":[{"timestamp":1770975030000,"value":0.1}],"post_/v1/threads/_threadid_:chat":[{"timestamp":1770975180000,"value":0.2},{"timestamp":1770975190000,"value":0.2},{"timestamp":1770975210000,"value":0.2},{"timestamp":1770975220000,"value":0.2},{"timestamp":1770975230000,"value":0.1},{"timestamp":1770975300000,"value":0.2},{"timestamp":1770975310000,"value":0.2},{"timestamp":1770975320000,"value":0.1},{"timestamp":1770975330000,"value":0.1},{"timestamp":1770975340000,"value":0.3},{"timestamp":1770975350000,"value":0.1},{"timestamp":1770975360000,"value":0.2},{"timestamp":1770975370000,"value":0.1},{"timestamp":1770975380000,"value":0.1},{"timestamp":1770975390000,"value":0.2},{"timestamp":1770975410000,"value":0.1},{"timestamp":1770975430000,"value":0.1},{"timestamp":1770975450000,"value":0.1},{"timestamp":1770975460000,"value":0.1},{"timestamp":1770975500000,"value":0.2},{"timestamp":1770975540000,"value":0.1},{"timestamp":1770975550000,"value":0.2},{"timestamp":1770975700000,"value":0.1},{"timestamp":1770975710000,"value":0.1},{"timestamp":1770975730000,"value":0.1},{"timestamp":1770975750000,"value":0.1},{"timestamp":1770975810000,"value":0.1},{"timestamp":1770975840000,"value":0.1},{"timestamp":1770975860000,"value":0.1},{"timestamp":1770975950000,"value":0.1},{"timestamp":1770976000000,"value":0.2},{"timestamp":1770976010000,"value":0.2},{"timestamp":1770976080000,"value":0.2},{"timestamp":1770976090000,"value":0.1},{"timestamp":1770976120000,"value":0.1},{"timestamp":1770976130000,"value":0.2},{"timestamp":1770976150000,"value":0.2},{"timestamp":1770976160000,"value":0.2},{"timestamp":1770976170000,"value":0.1},{"timestamp":1770976180000,"value":0.1},{"timestamp":1770976210000,"value":0.1},{"timestamp":1770976300000,"value":0.1},{"timestamp":1770976340000,"value":0.1},{"timestamp":1770976450000,"value":0.1},{"timestamp":1770976490000,"value":0.1},{"timestamp":1770976520000,"value":0.2},{"timestamp":1770976530000,"value":0.1},{"timestamp":1770976540000,"value":0.1},{"timestamp":1770976570000,"value":0.1},{"timestamp":1770976630000,"value":0.1},{"timestamp":1770976650000,"value":0.2},{"timestamp":1770976700000,"value":0.1},{"timestamp":1770976760000,"value":0.1},{"timestamp":1770976780000,"value":0.1},{"timestamp":1770976870000,"value":0.1},{"timestamp":1770976940000,"value":0.1},{"timestamp":1770976990000,"value":0.1}],"post_/v1/threads/_threadid_:retry":[{"timestamp":1770975450000,"value":0.1},{"timestamp":1770975760000,"value":0.1},{"timestamp":1770976100000,"value":0.1},{"timestamp":1770976220000,"value":0.1},{"timestamp":1770976270000,"value":0.1},{"timestamp":1770976280000,"value":0.1},{"timestamp":1770976590000,"value":0.1},{"timestamp":1770976670000,"value":0.1}]};
            
            const p95Data = timeSeries[endpoint] || [];
            const rateData = rateTimeSeries[endpoint] || [];
            
            const color = colors[index % colors.length];
            
            // Rate chart
            if (rateData.length > 0) {
                const rateCtx = document.getElementById('rateChart-' + index).getContext('2d');
                new Chart(rateCtx, {
                    type: 'line',
                    data: {
                        datasets: [{
                            label: 'Request Rate (hits/s)',
                            data: rateData.map(p => ({ x: p.timestamp, y: p.value })),
                            borderColor: '#E8871E',
                            backgroundColor: 'rgba(232, 135, 30, 0.1)',
                            borderWidth: 2,
                            pointRadius: 1,
                            pointHoverRadius: 5,
                            fill: true,
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: { mode: 'index', intersect: false },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: 'rgba(0,0,0,0.9)',
                                callbacks: {
                                    label: function(context) {
                                        return 'Rate: ' + context.parsed.y.toFixed(2) + ' hits/s';
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                type: 'time',
                                time: { unit: 'minute', displayFormats: { minute: 'HH:mm' } },
                                title: { display: true, text: 'Time' },
                                grid: { color: 'rgba(0,0,0,0.05)' }
                            },
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Request Rate (hits/s)' },
                                grid: { color: 'rgba(0,0,0,0.05)' }
                            }
                        }
                    }
                });
            }
            
            // P95 chart
            const p95Ctx = document.getElementById('p95Chart-' + index).getContext('2d');
            new Chart(p95Ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'P95 Latency (ms)',
                        data: p95Data.map(p => ({ x: p.timestamp, y: p.value })),
                        borderColor: color,
                        backgroundColor: color + '20',
                        borderWidth: 2,
                        pointRadius: 1,
                        pointHoverRadius: 5,
                        fill: true,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'index', intersect: false },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: 'rgba(0,0,0,0.9)',
                            callbacks: {
                                label: function(context) {
                                    return 'P95: ' + context.parsed.y.toFixed(1) + ' ms';
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'time',
                            time: { unit: 'minute', displayFormats: { minute: 'HH:mm' } },
                            title: { display: true, text: 'Time' },
                            grid: { color: 'rgba(0,0,0,0.05)' }
                        },
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'P95 Latency (ms)' },
                            grid: { color: 'rgba(0,0,0,0.05)' }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>